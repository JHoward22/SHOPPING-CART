//Programmer: Jaiden Howard
//Project Name: Shopping Cart Part 3
//Date 11/20/2022
//Description: For this report, update the program to allow one of the above users to safely log in to their account, complete a maximum of 3 transactions, and end the program. Three incorrect attempts at entering the username and password will end the program.
#include <iostream>
#include <iomanip>
#include <fstream>
using namespace std;   
 //==============Case 5 – Log Out (exit/end the program)==============================
    int LogOut()
    { 
    cout<<endl<< "Log Out (exit/end the program)"<<endl;
    return 0;    
    }
//==============Case 4 – Update Account (update the user information)==============================
    void updateinfo()
    {
        //declare variables
        string sku,username,address,password,memberlevel,customername,yesorno;
        double price, rate, newcredit, remainigstorecredit;
        int quantity, option,accountinfo,attempts,choice;
        char answer;
    

        string customer[4]={"Jane Smith", "Ellen Sue Doe", "Michael Black", "John Carter"};
        string user[4]={"jsmith", "edoe", "mblack", "jcarter"};
        string pass[4] = {"blue123", "pink234", "brown124", "green289"};
        long account[4]={123456789, 234567890, 235765437, 987654251};
        string member[4]= {"Gold", "Blue", "None", "Diamond"};
        double credit[4]={3000.00, 650.00, 324.00, 9000.00};
        string caddress[4]= {"100 W New Haven Ave, Melbourne, FL 32901", "235 South Street, Bronx, NY, 21110", "56 N Pathway Rd, Phoenix, AZ, 56565", "1060 W Addison St, Chicago, IL 60613"};
        //==============Display Customer Account information===================
        //==============prompt user decide which parts of their account info they want to update=========

        cout<< "Customer account information"<<endl;
        cout << endl << "Customer's Name: "<<customer[accountinfo]<< endl;
        cout <<endl<<"Account: "<<account[accountinfo] << endl;
        cout <<endl<<"Address: "<< caddress[accountinfo]<<endl;

        cout<<endl<<"Update Customer Name: Y or N"<<endl;
        cin>> yesorno;

        if(yesorno=="Y")
        {
            cout<<endl<<"Enter New Customer Name"<<endl;
            cin>>customername;
            customer[accountinfo]=customername;
        }    
        
        cout<<endl<<"Update Password: Y or N"<<endl;
        cin>>yesorno;
        
        if (yesorno=="Y")
        {
            cout<<endl<<"Enter New Password"<<endl;
            cin >> password;
            pass[accountinfo]=password;
        }
 
        cout<<endl<<"Update Customer Address: Y or N"<<endl;
        cin>>yesorno;
        
        if(yesorno=="Y")
        {
            cout<<endl<<"Update Customer Address: "<< endl;
            cin>> address;
            caddress[accountinfo]=address;
        }
        //==============Display Customer Account information===================

       
        cout << endl << "======================== Accout information ===============================";
        cout << endl << "Customer's Name: "<<customer[accountinfo]<< endl;
        cout <<"Account: "<< account[accountinfo] << endl;
        cout<< "Member Level: "<< member[accountinfo]<<endl;
        cout <<"Address: "<< caddress[accountinfo]<<endl;
        cout<< "Remaing Store Credit: " << (credit[accountinfo])<<endl;
        
    }
//==============Case 3 – Get an estimate (estimate the cost for purchasing an item)==============================
    void estimate()

    {
        // Declare variables
        string sku,username,address,password,memberlevel,customername,yesorno;
        double price, rate,newcredit, remainigstorecredit; 
        int quantity, option,accountinfo,attempts,choice;
        char answer;
    
        string customer[4]={"Jane Smith", "Ellen Sue Doe", "Michael Black", "John Carter"};
        string user[4]={"jsmith", "edoe", "mblack", "jcarter"};
        string pass[4] = {"blue123", "pink234", "brown124", "green289"};
        long account[4]={123456789, 234567890, 235765437, 987654251};
        string member[4]= {"Gold", "Blue", "None", "Diamond"};
        double credit[4]={3000.00, 650.00, 324.00, 9000.00};
        string caddress[4]= {"100 W New Haven Ave, Melbourne, FL 32901", "235 South Street, Bronx, NY, 21110", "56 N Pathway Rd, Phoenix, AZ, 56565", "1060 W Addison St, Chicago, IL 60613"};
    
        //======= prompt uaer to input sku and quantity then calculate price and discount then apply discount===============
        cout<< "Enter sku: ";
        cin>>sku;
       if (sku == "HF-342")
        {   cout<<endl<<"Enter quantity: ";
        cin>>quantity;
        if (quantity<=200)
        {
         price=quantity * 20.00;
        }
     
    
        else if(sku=="LK-322")
        {       cout<<endl<<"Enter quantity: ";
            cin>>quantity;
        if (quantity <= 76)
        {
            price=quantity * 5.75;
        }
        }
        else if (sku=="KF-231")
        {   cout<<endl<<"Enter quantity: ";
            cin>>quantity;
        if (quantity <=100)
        {
            price=quantity * 15.23;
        }
        }

        if (member[accountinfo] == "Gold" && price>= 300)
        {
            cout<<endl<<"8.5% Discount applied to purchase. "<<endl;
        
            price= price* (1-0.085);
             //==============Display Customer receipt=============

            cout << endl << "======================== Customer Reciept ===============================";
            cout << endl << "Customer's Name: "<<customer[accountinfo]<< endl;
            cout <<"Account: "<< account[accountinfo] << endl;
            cout<< "Member Level: "<< member[accountinfo]<<endl;
            cout <<"Address: "<< caddress[accountinfo]<<endl;
            cout<< "Remaing Store Credit: " <<(remainigstorecredit=credit[accountinfo]-price)<<endl;
            //==========================================================
            // Item Purchased
            //==========================================================
            if (sku == "HF-342")
                    {cout << "Purchased " << quantity << " 1/2 inch Bolts\n";}

            else if(sku=="LK-322")
                    {cout << "Purchased " << quantity << " 1/2 inch Nails\n";}

            else if (sku=="KF-231")
                    {cout << "Purchased " << quantity << " Hammers\n";}
            
            else if(sku=="RG-324")
                    {cout << endl<<"Purchased " << quantity << " 1/2 inch Screw\n";}

            else if (sku=="PL-643")
                    {cout <<endl<< "Purchased " << quantity << " Saw\n";}
            
            else if (sku=="PM-263")
                    {cout <<endl<< "Purchased " << quantity << " Lawn Mower\n";}

        //===========================================================
        //===========================================================    
        }
        else if (member[accountinfo] =="Gold" && price<300)
        {
            cout<<endl<<"6% Discount applied to purchase. "<<endl;
        
            price= price* (1-0.06);
        
            //==============Display Customer receipt=============
        
            cout << endl << "======================== Customer Reciept ===============================";
            cout << endl << "Customer's Name: "<<customer[accountinfo]<< endl;
            cout <<"Account: "<< account[accountinfo] << endl;
            cout<< "Member Level: "<< member[accountinfo]<<endl;
            cout <<"Address: "<< caddress[accountinfo]<<endl;
            cout<< "Remaing Store Credit: " << (remainigstorecredit=credit[accountinfo] - price)<<endl;
            //==========================================================
            // Item Purchased
            //==========================================================
            if (sku == "HF-342")
                    {cout << "Purchased " << quantity << " 1/2 inch Bolts\n";}

            else if(sku=="LK-322")
                    {cout << "Purchased " << quantity << " 1/2 inch Nails\n";}

            else if (sku=="KF-231")
                    {cout << "Purchased " << quantity << " Hammers\n";}
            
            else if(sku=="RG-324")
                    {cout << endl<<"Purchased " << quantity << " 1/2 inch Screw\n";}

            else if (sku=="PL-643")
                    {cout <<endl<< "Purchased " << quantity << " Saw\n";}
            
            else if (sku=="PM-263")
                    {cout <<endl<< "Purchased " << quantity << " Lawn Mower\n";}

            //===========================================================
            //===========================================================
        }
            else if (member[accountinfo] == "Blue" && price>= 100)
        {
            cout<<endl<<"6% Discount applied to purchase. "<<endl;
        
            price= price* (1-0.06);
            //==============Display Customer receipt=============
       
            cout << endl << "======================== Customer Reciept ===============================";
            cout << endl << "Customer's Name: "<<customer[accountinfo]<< endl;
            cout <<"Account: "<< account[accountinfo] << endl;
            cout<< "Member Level: "<< member[accountinfo]<<endl;
            cout <<"Address: "<< caddress[accountinfo]<<endl;
            cout<< "Remaing Store Credit: " << (remainigstorecredit=credit[accountinfo]-price)<<endl;
            //==========================================================
            // Item Purchased
            //==========================================================
            if (sku == "HF-342")
                    {cout << "Purchased " << quantity << " 1/2 inch Bolts\n";}

            else if(sku=="LK-322")
                    {cout << "Purchased " << quantity << " 1/2 inch Nails\n";}

            else if (sku=="KF-231")
                    {cout << "Purchased " << quantity << " Hammers\n";}
            
            else if(sku=="RG-324")
                    {cout << endl<<"Purchased " << quantity << " 1/2 inch Screw\n";}

            else if (sku=="PL-643")
                    {cout <<endl<< "Purchased " << quantity << " Saw\n";}
            
            else if (sku=="PM-263")
                    {cout <<endl<< "Purchased " << quantity << " Lawn Mower\n";}

            //===========================================================
            //===========================================================();
        }
            price=price*(1+0.06);
        }
            else if (member[accountinfo] == "Diamond" && price>= 700)
        {
            cout<<endl<<"12% Discount applied to purchase. "<<endl;
        
            price= price* (1-0.012);
            //==============Display Customer receipt=============

            cout << endl << "======================== Customer Reciept ===============================";
            cout << endl << "Customer's Name: "<<customer[accountinfo]<< endl;
            cout <<"Account: "<< account[accountinfo] << endl;
            cout<< "Member Level: "<< member[accountinfo]<<endl;
            cout <<"Address: "<< caddress[accountinfo]<<endl;
            cout<< "Remaing Store Credit: " << (remainigstorecredit=credit[accountinfo]-price)<<endl;
            //==========================================================
            // Item Purchased
            //==========================================================
            if (sku == "HF-342")
                    {cout << "Purchased " << quantity << " 1/2 inch Bolts\n";}

            else if(sku=="LK-322")
                    {cout << "Purchased " << quantity << " 1/2 inch Nails\n";}

            else if (sku=="KF-231")
                    {cout << "Purchased " << quantity << " Hammers\n";}
            
            else if(sku=="RG-324")
                    {cout << endl<<"Purchased " << quantity << " 1/2 inch Screw\n";}

            else if (sku=="PL-643")
                    {cout <<endl<< "Purchased " << quantity << " Saw\n";}
            
            else if (sku=="PM-263")
                    {cout <<endl<< "Purchased " << quantity << " Lawn Mower\n";}

            //===========================================================
            //===========================================================();
        }

            else if (member[accountinfo] == "Diamond" && price< 700 && price>=300)
        {
            cout<<endl<<"8.5% Discount applied to purchase. "<<endl;
        
            price= price* (1-0.085);
            //==============Display Customer receipt=============

            cout << endl << "======================== Customer Reciept ===============================";
            cout << endl << "Customer's Name: "<<customer[accountinfo]<< endl;
            cout <<"Account: "<< account[accountinfo] << endl;
            cout<< "Member Level: "<< member[accountinfo]<<endl;
            cout <<"Address: "<< caddress[accountinfo]<<endl;
            cout<< "Remaing Store Credit: " << (remainigstorecredit=credit[accountinfo]-price)<<endl;
            //==========================================================
            // Item Purchased
            //==========================================================
            if (sku == "HF-342")
                    {cout << "Purchased " << quantity << " 1/2 inch Bolts\n";}

            else if(sku=="LK-322")
                    {cout << "Purchased " << quantity << " 1/2 inch Nails\n";}

            else if (sku=="KF-231")
                    {cout << "Purchased " << quantity << " Hammers\n";}
            
            else if(sku=="RG-324")
                    {cout << endl<<"Purchased " << quantity << " 1/2 inch Screw\n";}

            else if (sku=="PL-643")
                    {cout <<endl<< "Purchased " << quantity << " Saw\n";}
            
            else if (sku=="PM-263")
                    {cout <<endl<< "Purchased " << quantity << " Lawn Mower\n";}

            //===========================================================
            //===========================================================();
        }
            else if (member[accountinfo] =="Diamond" && price<300 && price>=100)
        {
            cout<<endl<<"6% Discount applied to purchase. "<<endl;
        
            price= price* (1-0.06);
            //==============Display Customer receipt=============

            cout << endl << "======================== Customer Reciept ===============================";
            cout << endl << "Customer's Name: "<<customer[accountinfo]<< endl;
            cout <<"Account: "<< account[accountinfo] << endl;
            cout<< "Member Level: "<< member[accountinfo]<<endl;
            cout <<"Address: "<< caddress[accountinfo]<<endl;
            cout<< "Remaing Store Credit: " << (remainigstorecredit=credit[accountinfo]-price)<<endl;
            //==========================================================
            // Item Purchased
            //==========================================================
            if (sku == "HF-342")
                    {cout << "Purchased " << quantity << " 1/2 inch Bolts\n";}

            else if(sku=="LK-322")
                    {cout << "Purchased " << quantity << " 1/2 inch Nails\n";}

            else if (sku=="KF-231")
                    {cout << "Purchased " << quantity << " Hammers\n";}
            
            else if(sku=="RG-324")
                    {cout << endl<<"Purchased " << quantity << " 1/2 inch Screw\n";}

            else if (sku=="PL-643")
                    {cout <<endl<< "Purchased " << quantity << " Saw\n";}
            
            else if (sku=="PM-263")
                    {cout <<endl<< "Purchased " << quantity << " Lawn Mower\n";}

            //===========================================================
            //===========================================================();
    
        
        } 
    }
        //===============Case 2 – View all items (list all items available)==============================
         void viewlist()
    {
        cout << endl << "    SKU      Name         Items in unit    Price per unit  Quantity" << endl;
        cout << "HF-342   1/2 in Bolt       50              20.00            200" << endl;
        cout << "RG-324   1/2 in Screw      30              20.00            174" << endl;
        cout << "LK-322   1/4 in nail       25               5.75             76" << endl;
        cout << "PL-643   Saw                1              35.67             35" << endl;
        cout << "PM-263   Lawn Mower         1             430.39             10" << endl;
        cout << "KF-231   Hammer             1              15.23            100"<< endl;
        
    }    
int main()
    // declare variables
{
    
    string sku,username,address,password,memberlevel,customername,yesorno;
    int quantity, option,accountinfo,attempts,choice;
    char answer;
    int t = 0;
    double newcredit, remainigstorecredit, price, rate;
    //============ create array for accounnt information==================
    string customer[4]={"Jane Smith", "Ellen Sue Doe", "Michael Black", "John Carter"};
    string user[4]={"jsmith", "edoe", "mblack", "jcarter"};
    string pass[4] = {"blue123", "pink234", "brown124", "green289"};
    long account[4]={123456789, 234567890, 235765437, 987654251};
    string member[4]= {"Gold", "Blue", "None", "Diamond"};
    double credit[4]={3000.00, 650.00, 324.00, 9000.00};
    string caddress[4]= {"100 W New Haven Ave, Melbourne, FL 32901", "235 South Street, Bronx, NY, 21110", "56 N Pathway Rd, Phoenix, AZ, 56565", "1060 W Addison St, Chicago, IL 60613"};
    newcredit= credit[accountinfo] - price;
    remainigstorecredit = newcredit-price;

    
    
    attempts = 0;
    bool login = 0;//login was successful or not
    while (attempts<=2 && !login)
    {

    
    //prompt user to enter username and password, if invalid Display error message
        cout<< "Enter Username: "<<endl;
        cin>> username;

        cout<<endl<< "Enter Password: "<< endl;
        cin>> password;

    for (int i = 0; i <= 3; i++) 
    { 
        if (username == user[i] && password == pass[i])
        {
            cout<<"Login Complete"<<endl;
            accountinfo = i;
            
            login = 1;
            //============= Display Choice Table of items=================== 
            cout << endl << "    SKU      Name         Items in unit    Price per unit  Quantity" << endl;
            cout << "HF-342   1/2 in Bolt       50              20.00            200" << endl;
            cout << "RG-324   1/2 in Screw      30              20.00            174" << endl;
            cout << "LK-322   1/4 in nail       25               5.75             76" << endl;
            cout << "PL-643   Saw                1              35.67             35" << endl;
            cout << "PM-263   Lawn Mower         1             430.39             10" << endl;
            cout << "KF-231   Hammer             1              15.23            100 " << endl;
        
        
        
            break;
        }
     
    }
        if (!login){
        cout<< endl<<"Username or Password invalid"<< endl;
        attempts++;
    }
    }
        if (!login && attempts >= 3) 
        return 1;

        while (t <=3)
    {
        t+=1;
        if (t >=4)
           {
               return 1;
           }
            // Prompt user to make a selection from the choices listed 1-5
            cout<<endl<<"1 – Purchase an item (make a new purchase)"<<endl;
            cout<<endl<<"2 – View all items (list all items available)"<<endl;
            cout<<endl<<"3 – Get an estimate (estimate the cost for purchasing an item)"<<endl;
            cout<<endl<<"4 – Update Account (update the user information)"<<endl;
            cout<<endl<<"5 – Log Out (exit/end the program)"<<endl;
            cin>>option;

          //========Display sku options and prompt user to select one the enter preferred quantity========
            switch(option)
    
        { 
            case 1: 
        

            {
           
            cout << endl<<"Enter 1 if you wish to purchase HF-342" << endl;
            cout << endl<<"Enter 2 if you wish to purchase RG-324"<<endl;
            cout << endl<<"Enter 3 if you wish to purchase LK-322"<<endl;
            cout << endl<<"Enter 4 if you wish to purchase PL-643"<< endl;
            cout << endl<<"Enter 5 if you wish to purchase PM-263"<<endl;
            cout << endl<<"Enter 6 if you wish to purchase KF-231"<<endl;
            
            cin >> choice;

            switch(choice)
            {
                case 1:
                sku = "HF-342";

                        cout<<endl<<"Enter quantity: ";
                        cin>>quantity;

                if (quantity<=200)
                    {
                        price=quantity * 20.00;
                        newcredit= credit[accountinfo] - price;

                    }
                        else
                    { 
                        cout << endl << " There are not enough products in our inventory to complete your transaction." << endl;

                        if(price>credit[accountinfo])
                    {
                        cout<< endl<<"Error: Exceeding store credit."<<endl;
                    }
                        price=price*(1+0.06);
                        t++;
                    }
                        break;

                    case 2:
                    sku = "RG-324";

                        cout<<endl<<"Enter quantity: ";
                        cin>>quantity;

                        if (quantity<=174)
                    {
                        price=quantity * 30.00;
                        newcredit= credit[accountinfo] - price;
                    }
                        else
                    { 
                        cout << endl << " There are not enough products in our inventory to complete your transaction." << endl;

                        if(price>credit[accountinfo])
                    {
                        cout<< endl<<"Error: Exceeding store credit."<<endl;
                    }
                        price=price*(1+0.06);
                        newcredit= credit[accountinfo] - price;
                        t++;
                    }
                        break;
            
                        case 3:              
                        sku="LK-322";
                        cout<<endl<<"Enter quantity: ";
                        cin>>quantity;
                        if (quantity <= 76)
                    {
                        price=quantity * 5.75;
                        newcredit= credit[accountinfo] - price; 
                    }
                        else 
                    {
                        cout << endl << " There are not enough products in our inventory to complete your transaction." << endl;
                
                        if(price>credit[accountinfo])
                    {
                        cout<< endl<<"Error: Exceeding store credit."<<endl;
                    }
                        price=price*(1+0.06);
                        newcredit= credit[accountinfo] - price;
                        t++;
                    }
                
                        break;

                        case 4:   
                        sku="PL-643";
                        cout<<endl<<"Enter quantity: ";
                        cin>>quantity;
                        if (quantity <=35)
                    {
                        price=quantity * 35.67;
                        newcredit= credit[accountinfo] - price; 
                    }
                        else 
                    {
                        cout << endl << " There are not enough products in our inventory to complete your transaction." << endl;
                        if(price>credit[accountinfo])
                    {
                        cout<< endl<<"Error: Exceeding store credit."<<endl;
                    }
                        price=price*(1+0.06);
                        newcredit= credit[accountinfo] - price; 
                        t++;
                    }
                        break;

                        case 5:   
                        sku="PM-263";
                        cout<<endl<<"Enter quantity: ";
                        cin>>quantity;
                        if (quantity <=100)
                    {
                        price=quantity * 430.39;
                        newcredit= credit[accountinfo] - price; 
                    }
                        else 
                    {
                        cout << endl << " There are not enough products in our inventory to complete your transaction." << endl;
                        if(price>credit[accountinfo])
                    {
                        cout<< endl<<"Error: Exceeding store credit."<<endl;
                    }
                        price=price*(1+0.06);
                        newcredit= credit[accountinfo] - price;
                        t++;
                    }
                        break;
                
            
                        case 6:   
                        sku="KF-231";
                        cout<<endl<<"Enter quantity: ";
                        cin>>quantity;
                        if (quantity <=100)
                    {
                        price=quantity * 15.23;
                        newcredit= credit[accountinfo] - price; 
                    }
                        else 
                    {
                        cout << endl << " There are not enough products in our inventory to complete your transaction." << endl;
                        if(price>credit[accountinfo])
                    {
                        cout<< endl<<"Error: Exceeding store credit."<<endl;
                    }
                        price=price*(1+0.06);
                        newcredit= credit[accountinfo] - price;
                        t++;
                    }
                
                        break;
                    }
                        if (t >= 4) 
                    {
                        //==============Display Customer receipt=============
                        cout << endl<<"======================== Customer Reciept ===============================";
                        cout << endl<<"Customer's Name: "<<customer[accountinfo]<< endl;
                        cout <<endl<<"Account: "<< account[accountinfo] << endl;
                        cout<< endl<<"Member Level: "<< member[accountinfo]<<endl;
                        cout <<endl<<"Address: "<< caddress[accountinfo]<<endl;
                    
                        //==========================================================
                        // Item Purchased
                        //==========================================================
                        if (sku == "HF-342")
                        {cout << endl<<"Purchased " << quantity << " 1/2 inch Bolts\n";}

                        else if(sku=="LK-322")
                        {cout << endl<<"Purchased " << quantity << " 1/2 inch Nails\n";}

                        else if (sku=="KF-231")
                        {cout <<endl<< "Purchased " << quantity << " Hammers\n";}
                        else if(sku=="RG-324")
                        {cout << endl<<"Purchased " << quantity << " 1/2 inch Screw\n";}

                        else if (sku=="PL-643")
                        {cout <<endl<< "Purchased " << quantity << " Saw\n";}
                        else if (sku=="PM-263")
                        {cout <<endl<< "Purchased " << quantity << " Lawn Mower\n";}
                        //===========================================================
                        //===========================================================
                
                        break;
                    }
                        //==============Display Customer receipt=============
                       cout <<endl<<"======================== Customer Reciept ===============================";
                        cout <<endl<<"Customer's Name: "<<customer[accountinfo]<< endl;
                        cout <<endl<<"Account: "<< account[accountinfo] << endl;
                        cout<< endl<<"Member Level: "<< member[accountinfo]<<endl;
                        cout <<endl<<"Address: "<< caddress[accountinfo]<<endl;
                        cout<< endl<<"Remaing Store Credit: " << (remainigstorecredit=credit[accountinfo]-price)<<endl;
                        //==========================================================
                        // Item Purchased
                        //==========================================================
                        if (sku == "HF-342")
                        {cout << endl<<"Purchased " << quantity << " 1/2 inch Bolts\n";}

                        else if(sku=="LK-322")
                        {cout << endl<<"Purchased " << quantity << " 1/2 inch Nails\n";}

                        else if (sku=="KF-231")
                        {cout << endl<<"Purchased " << quantity << " Hammers\n";}
                        else if(sku=="RG-324")
                        {cout << endl<<"Purchased " << quantity << " 1/2 inch Screw\n";}

                        else if (sku=="PL-643")
                        {cout <<endl<< "Purchased " << quantity << " Saw\n";}
                        else if (sku=="PM-263")
                        {cout <<endl<< "Purchased " << quantity << " Lawn Mower\n";}    
                        //===========================================================
                        //===========================================================

                    }

                        break;
                        // ====== Case 2 view all items ================
        
                        case 2:  
                        viewlist();
                        break;

                        // ====== Case 3 get an estimate================
        
                        case 3:
                        estimate();
                        break;
        
                        //=========Case 4 update account info=================
        
        
                        case 4:
                        updateinfo();
                        break;

                        //=========Case 5 log out============================
                        case 5:
                        LogOut();
        
                        return 1;
                        break;
                    }
                }

                    return 0;
}
